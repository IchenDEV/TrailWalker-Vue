<template>
    <div class="dis-container drop" style="padding:1rem">
        <header>
            <div class="head-bk">精弘毅行</div>
        </header>
        <div class="d-content">
            <h1>报名须知</h1>
            <p>请仔细阅读本活动须知。因违反毅行规则而产生的一切后果需要自行承担，组织方概不负责</p>
            <h2>【报名须知】</h2>
            <p>1.本次屏峰毅行路线分为半程和全程，全程路线较长，路线比较陡峭，参与者选择时务必量力而行，第一次参加毅行的同学建议选择半程路线，可与有经验的参与者一同组队</p>
            <p>2.罹患高血压、心脏病、骨质疏松等疾病患者不可以参加本次活动，为了您自身的健康与安全，建议选择其他更加休闲的健身锻炼方式</p>
            <p>3.报名后务必关注“浙江工业大学精弘网络”微信公众号以便及时接收活动通知，并注意查收手机短信</p>
            <p>4.报名后务必按照通知的时间准时到达出发点，不要在其他时间段出发，以免因人数过多而造成道路堵塞</p>
            <p>5.请在线上完成报名，线下不设报名点，即不提供现场报名</p>
            <p>6.报名时间段每天10点左右更新名额,名额满了可以再等等</p>
            <h2>【风险告知】</h2>
            <p>1、关注活动期间的天气情况，做好防晒、防雨的准备。</p>
            <p>2、一切听从组织的安排，以小组为单位参加活动，安全优先，遵守活动纪律。</p>
            <p>3、提前学习如何避免和处理运动损伤，如水泡、抽筋、崴脚等。</p>
            <p>4、偏僻路段多人结伴同行，勿落单。</p>
            <p>5、心血管、脑血管、高血压、低血糖、关节炎等有身体健康问题或有突发病史者，不适宜强烈运动。</p>
            <h2>【免责声明】</h2>
            <p>1、本活动是非商业性的长距离登山徒步自发群体活动，有一定的风险，参加者应根据自身的状况作出是否参加活动的决定，并应对自己的安全负完全责任。未成年人必须经监护人同意并由其监护人陪同参加。</p>
            <p>2、活动参与者保证已熟知并同意本次活动的所有行程与活动安排，充分了解毅行活动的潜在风险，愿意独立承担本次活动中可能发生的人身或财产损害；</p>
            <p>3、活动参与者在活动过程中将根据自身身体状况，独立判断行动风险以保障自身人身和财产安全，不受任何活动参加者及其他成员的影响，并有权随时中途退出活动；</p>
            <p>4、参加活动往返交通途中和活动中如果发生意外事故，组织者会尽能力范围内组织救援，但对于事故造成的身体损害，乃至不可逆转的永久性身体损伤、后遗症等，以及事件伴随的经济损失，活动组织者不承担任何法律和经济责任。</p>
            <p>5、一旦报名，即视为参加者（包括代他人报名者，被代报名参加者）已经充分了解并自愿接受本免责条款，本免责条款自动生效。否则，请终止报名参加，已报名的参加者请在活动开始前退出本次活动。</p>
            <p>6、请按规定路线前进，否则出现问题精弘网络概不负责；凡报名参加者均视为具有完全民事行为能力人，如在活动中发生人身损害后果，赔偿责任领队或召集人不承担，由受损害人依据法律规定和本领队或召集人声明依法解决，凡报名者均视为接受本领队或召集人声明.</p>
            <p>7、本条款同样适用于活动各环节义工人员。</p>
            <h2>【安全须知】</h2>
            <p>1.身体不适者请及时在指定位置下撤终止毅行或就近选择安全地点等待工作人员救助；</p>
            <p>2.如果队伍中有人受伤需要立即联系身边最近的工作人员，原地等待医务人员救治，不要随意移动以免二次受伤；</p>
            <p>3.禁止吸烟、明火，以防山火；</p>
            <p>4.全程较长，请合理估计自己的身体状况，合理选择全程线或半程线路，如果发生体力不支等意外情况请及时联系工作人员下山，切勿逞能，以防发生危险。</p>
            <h2>【出发&行进&打卡须知】</h2>
            <p>1.团队内需要互相配合，互帮互助，请不要走散；</p>
            <p>2.队伍全部人员到齐之后才可以在打卡点打卡；</p>
            <p>3.每个打卡点都有关门时间，到达关门时间后不得前进，需从打卡点处的下撤点直接下山；</p>
            <p>4.不在规定出发时间出发的团队不提供打卡单；</p>
            <p>5.请妥善保存打卡单，最终结果以打卡单为准；</p>
            <p>6.路线行至陡坡需有序通过；</p>
            <p>7.毅行的过程当中，请不要在一个地点逗留太久，以免造成堵塞；</p>
            <p>8.毅行途中请尽量避免与他人发生冲突，毅行不易，且行且珍惜。必要时请联系工作人员解决。</p>
            <h2>【其他须知】</h2>
            <p>1.请保护环境，关爱地球母亲，自行携带垃圾袋上山。不要把垃圾留在山上的垃圾桶里，请务必将垃圾随身携带下山后丢弃。</p>
            <p>2.活动不提供中饭，请参与者自行携带食物；</p>
            <h2>最终解释权归精弘网络所有。</h2>
        </div>
        <v-layout justify-center style="margin-bottom:1rem;" v-if="agreeable">
            <v-dialog max-width="290" persistent v-model="dialog">
                <template v-slot:activator="{ on }">
                    <v-btn color="primary" @click="showDialog" style="margin-bottom: 1rem;">{{timeOut}}</v-btn>
                </template>
                <v-card>
                    <v-card-title class="headline">是否同意声明</v-card-title>
                    <v-card-text>确定你已经阅读该《风险告知与免责声明》并且同意本声明</v-card-text>
                    <v-card-actions>
                        <v-spacer></v-spacer>
                        <v-btn color="green darken-1" text @click="showDialog">不同意</v-btn>
                        <v-btn color="green darken-1" text @click="agree">同意</v-btn>
                    </v-card-actions>
                </v-card>
            </v-dialog>
        </v-layout>
    </div>
</template>
<script lang="ts">
    import {Component, Vue, Emit, Prop} from "vue-property-decorator";

    @Component
    export default class Disclaimer extends Vue {
        private dialog = false;
        private timeOut: string | number = 30;

        @Prop({type: Boolean, default: true})
        private agreeable?: boolean;

        @Emit()
        private agree() {
            this.dialog = false;
        }

        private showDialog() {
            if (this.timeOut === "同意") {
                this.dialog = true;
            }
        }

        private mounted() {
            (this.timeOut as number)--;
            const clock = window.setInterval(() => {
                (this.timeOut as number)--;
                if (this.timeOut < 0) {
                    window.clearInterval(clock);
                    this.timeOut = "同意";
                }
            }, 1000);
        }
    }
</script>
